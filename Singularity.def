Bootstrap: docker
From: python:3.8-slim-buster

%post
    apt-get -y update
    apt-get -y upgrade
    apt-get -y install python3 python3-pip
    pip3 install torch==1.12.1+cu113 torchvision==0.13.1+cu113  -f https://download.pytorch.org/whl/torch_stable.html
    pip3 install torchaudio==0.12.1 numpy==1.21.4 \
    grpcio==1.48.2 ale-py==0.7.5 ray==2.2.0 ray[default]==2.2.0 ray[rllib]==2.2.0 \
    ray[tune]==2.2.0 ray[air]==2.2.0 gym==0.23.1 mlflow pyyaml func_timeout \
    tqdm dynaconf gym[accept-rom-license] gputil
%environment
    export PATH=/usr/local/bin:$PATH

%files
    /home/seventheli/research/Block_ExperienceReplay /local_scratch

%runscript
    cd /local_scratch
    echo whereis python3