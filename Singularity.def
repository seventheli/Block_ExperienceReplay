Bootstrap: docker
From: python:3.9-slim-buster

%post
    apt-get -y update
    apt-get -y upgrade
    # apt-get -y install python3 python3-pip
    pip install torch==1.12.1+cu113 torchvision==0.13.1+cu113  -f https://download.pytorch.org/whl/torch_stable.html
    pip install torchaudio==0.12.1 -f https://download.pytorch.org/whl/torch_stable.html
    pip install numpy==1.23.5 \
    ale-py==0.7.5 ray==2.2.0 ray[default]==2.2.0 ray[rllib]==2.2.0 \
    ray[tune]==2.2.0 gym==0.23.0 grpcio==1.48.1 mlflow pyyaml func_timeout \
    tqdm dynaconf gym[accept-rom-license] gputil
    pip install -U pydantic
    mkdir -p /tmp
    mkdir -p /local_scratch
%environment
    export PATH=/usr/local/bin:$PATH

%runscript
    cd /local_scratch
